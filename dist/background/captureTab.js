(()=>{var t={522:(t,e,o)=>{"use strict";var r;(r="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?o.g:self).Proxy||(r.Proxy=o(607)(),r.Proxy.revocable=r.Proxy.revocable)},607:t=>{t.exports=function(){let t,e=null;function o(t){return!!t&&("object"==typeof t||"function"==typeof t)}function r(t){if(null!==t&&!o(t))throw new TypeError("Object prototype may only be an Object or null: "+t)}const n=Object,l=Boolean(n.create)||!({__proto__:null}instanceof n),i=n.create||(l?function(t){return r(t),{__proto__:t}}:function(t){if(r(t),null===t)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var e=function(){};return e.prototype=t,new e}),s=function(){return null},c=n.getPrototypeOf||([].__proto__===Array.prototype?function(t){const e=t.__proto__;return o(e)?e:null}:s);return t=function(a,f){if(void 0===(this&&this instanceof t?this.constructor:void 0))throw new TypeError("Constructor Proxy requires 'new'");if(!o(a)||!o(f))throw new TypeError("Cannot create proxy with a non-object as target or handler");let u=function(){};e=function(){a=null,u=function(t){throw new TypeError(`Cannot perform '${t}' on a proxy that has been revoked`)}},setTimeout((function(){e=null}),0);const p=f;f={get:null,set:null,apply:null,construct:null};for(let t in p){if(!(t in f))throw new TypeError(`Proxy polyfill does not support trap '${t}'`);f[t]=p[t]}"function"==typeof p&&(f.apply=p.apply.bind(p));const y=c(a);let h,d=!1,b=!1;"function"==typeof a?(h=function(){const t=this&&this.constructor===h,e=Array.prototype.slice.call(arguments);return u(t?"construct":"apply"),t&&f.construct?f.construct.call(this,a,e):!t&&f.apply?f.apply(a,this,e):t?(e.unshift(a),new(a.bind.apply(a,e))):a.apply(this,e)},d=!0):a instanceof Array?(h=[],b=!0):h=l||null!==y?i(y):{};const v=f.get?function(t){return u("get"),f.get(this,t,h)}:function(t){return u("get"),this[t]},w=f.set?function(t,e){u("set"),f.set(this,t,e,h)}:function(t,e){u("set"),this[t]=e},m=n.getOwnPropertyNames(a),g={};m.forEach((function(t){if((d||b)&&t in h)return;const e=n.getOwnPropertyDescriptor(a,t),o={enumerable:Boolean(e.enumerable),get:v.bind(a,t),set:w.bind(a,t)};n.defineProperty(h,t,o),g[t]=!0}));let T=!0;if(d||b){const t=n.setPrototypeOf||([].__proto__===Array.prototype?function(t,e){return r(e),t.__proto__=e,t}:s);y&&t(h,y)||(T=!1)}if(f.get||!T)for(let t in a)g[t]||n.defineProperty(h,t,{get:v.bind(a,t)});return n.seal(a),n.seal(h),h},t.revocable=function(o,r){return{proxy:new t(o,r),revoke:e}},t}},523:t=>{!function(){"use strict";t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var o,r=t.HTMLElement||t.Element,n={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},l=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,i=(o=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):n.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?n.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var o=p(this),r=o.getBoundingClientRect(),l=this.getBoundingClientRect();o!==e.body?(h.call(this,o,o.scrollLeft+l.left-r.left,o.scrollTop+l.top-r.top),"fixed"!==t.getComputedStyle(o).position&&t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):t.scrollBy({left:l.left,top:l.top,behavior:"smooth"})}else n.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(t,e){this.scrollLeft=t,this.scrollTop=e}function c(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function a(t,e){return"Y"===e?t.clientHeight+i<t.scrollHeight:"X"===e?t.clientWidth+i<t.scrollWidth:void 0}function f(e,o){var r=t.getComputedStyle(e,null)["overflow"+o];return"auto"===r||"scroll"===r}function u(t){var e=a(t,"Y")&&f(t,"Y"),o=a(t,"X")&&f(t,"X");return e||o}function p(t){for(;t!==e.body&&!1===u(t);)t=t.parentNode||t.host;return t}function y(e){var o,r,n,i,s=(l()-e.startTime)/468;i=s=s>1?1:s,o=.5*(1-Math.cos(Math.PI*i)),r=e.startX+(e.x-e.startX)*o,n=e.startY+(e.y-e.startY)*o,e.method.call(e.scrollable,r,n),r===e.x&&n===e.y||t.requestAnimationFrame(y.bind(t,e))}function h(o,r,i){var c,a,f,u,p=l();o===e.body?(c=t,a=t.scrollX||t.pageXOffset,f=t.scrollY||t.pageYOffset,u=n.scroll):(c=o,a=o.scrollLeft,f=o.scrollTop,u=s),y({scrollable:c,method:u,startTime:p,startX:a,startY:f,x:r,y:i})}}}}()}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,o),l.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(523),e=o.n(t);o(522),e().polyfill(),Array.from||(Array.from=function(){let t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},o=Math.pow(2,53)-1,r=function(t){let e=function(t){let e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),o)};return function(t){let o=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");let l,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!e(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(l=arguments[2])}let s,c=r(n.length),a=e(o)?Object(new o(c)):new Array(c),f=0;for(;f<c;)s=n[f],a[f]=i?void 0===l?i(s,f):i.call(l,s,f):s,f+=1;return a.length=c,a}}()),window.t_delay=t=>new Promise((e=>setTimeout(e,t))),window.t_in=(t,e)=>t.hasOwnProperty(e),window.t_arrayBufferToBase64=function(t){let e="";return[].slice.call(new Uint8Array(t)).forEach((t=>e+=String.fromCharCode(t))),window.btoa(e)},window.t_getImage=function(t,e=!1){return new Promise(((o,r)=>{try{if(t.startsWith("chrome://"))o();else{let n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){let t=n.getResponseHeader("Content-Type").trim();if(t.startsWith("image/")){let e="data:"+t+";charset=utf-8;base64,",r=t_arrayBufferToBase64(n.response);o(e+r)}else r('Image Request Failed: Content-Type is not an image! (Content-Type: "'+t+'")')}},n.responseType="arraybuffer",n.open("GET",t,!0),e&&n.setRequestHeader("Cache-Control","no-store"),n.send()}}catch(t){r(t.message)}}))};class r{constructor(t){this.id=t}activate(){return browser.tabs.update(this.id,{active:!0})}captureTab(t,e){return browser.tabs.captureTab?new Promise(((o,r)=>{browser.tabs.captureTab(this.id,e).then((e=>{t.aborted||o(e)})),t.onabort=r})):Promise.resolve(void 0)}static move(t,e,o){return browser.tabs.move(t,{windowId:e,index:o})}}let n;class l extends Error{}browser.runtime.onMessage.addListener((t=>{if("captureTab"===t._)return async function(t,e){n&&n.abort(),n=new AbortController;const o=n.signal;try{return await new r(t).captureTab(o,e)||void 0}catch(t){throw new l(t.message)}}(t.tabId,t.quality)}))})()})();