!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);function n(t){return browser.runtime.getBrowserInfo&&(t.tabs=t.tabs.filter(t=>(!t.url.startsWith("about:")||["about:blank","about:newtab"].includes(t.url))&&!t.url.startsWith("chrome:")&&!t.url.startsWith("javascript:")&&!t.url.startsWith("data:")&&!t.url.startsWith("file:"))),browser.windows.create({incognito:t.incognito}).then(async e=>{let r=e.tabs[0].id,n=!1;await(e.id,t.name,Promise.resolve());for(let o=0;o<t.tabs.length;o++){let a=t.tabs[o];browser.tabs.create(Object.assign(a.container?{cookieStoreId:a.container.id}:{},{url:a.url,active:a.active,pinned:a.pinned,windowId:e.id})).then(async t=>{var e,o;browser.tabs.update(t.id,{muted:a.muted}),a.pack&&await(e=t.id,o=()=>{browser.tabs.sendMessage(t.id,{target:"packd",data:Object.assign({action:"unpack"},a.pack)})},new Promise((t,r)=>{let n=(r,a)=>{r===e&&"complete"===a.status&&(browser.tabs.onUpdated.removeListener(n),t(o()))};browser.tabs.onUpdated.addListener(n)})),n||(n=!0,browser.tabs.remove(r))}).catch(t=>{console.log(t)})}})}Array.from||(Array.from=function(){let t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},r=Math.pow(2,53)-1,n=function(t){let e=function(t){let e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),r)};return function(t){let r=this,o=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");let a,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!e(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}let u,s=n(o.length),c=e(r)?Object(new r(s)):new Array(s),l=0;for(;l<s;)u=o[l],c[l]=i?void 0===a?i(u,l):i.call(a,u,l):u,l+=1;return c.length=s,c}}()),browser.runtime.onMessage.addListener((function(t,e){switch(t.type){case"RESTORE_WINDOW":return n(t.data.windowRecord)}}))}]);